// features/compendium/civilizations/civilization-list/civilization-list.component.scss

.civilization-list-page {
  padding: 2rem 1rem;
  max-width: 1400px;
  margin: 0 auto;
  animation: fadeIn 0.3s ease-out;

  // Cacher Scrollbar
  scrollbar-width: none;
  -ms-overflow-style: none;
  &::-webkit-scrollbar { display: none; }
}

// --- HEADER ---
.page-header {
  text-align: center;
  margin-bottom: 3rem;

  h1 {
    font-size: 2.5rem;
    color: var(--primary-color);
    margin: 0 0 0.5rem 0;
    font-family: 'Cinzel', serif;
  }

  p {
    color: var(--text-muted);
    font-size: 1.1rem;
  }
}

.loading {
  text-align: center;
  padding: 4rem;
  color: var(--text-muted);
  font-size: 1.2rem;
  .spinner { margin-bottom: 1rem; }
}

// --- GRID (Responsive automatique) ---
.civilization-grid {
  display: grid;
  // Crée autant de colonnes que possible avec une largeur min de 180px
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 1.5rem;
  justify-content: center;
}

// --- CARD ---
.civilization-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  padding: 1.5rem 1rem;

  background: var(--bg-cards);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  box-shadow: var(--shadow-sm);

  text-decoration: none;
  color: var(--text-main);
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  position: relative;
  overflow: hidden;

  // Bordure supérieure colorée (par défaut)
  border-top: 4px solid var(--border-color);

  &:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-md);

    .civilization-icon {
      transform: scale(1.2) rotate(5deg);
    }
  }
}

.card-icon-wrapper {
  width: 70px;
  height: 70px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--section-alt-bg);
  border-radius: 50%;
  transition: background-color 0.3s;
  flex-shrink: 0; // Empêche l'icône de s'écraser si le texte est long
}

.civilization-icon {
  font-size: 2.5rem;
  line-height: 1;
  transition: transform 0.3s ease;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
}

.civilization-info {
  text-align: center;
  width: 100%;

  h2 {
    margin: 0;
    font-size: 1rem;
    font-weight: 700;
    font-family: 'Cinzel', serif;
    color: var(--text-main);
    text-transform: uppercase;
    letter-spacing: 0.5px;

    // --- CORRECTION DU TEXTE ---
    // On permet le retour à la ligne pour voir le nom complet
    white-space: normal;
    overflow: visible;
    text-overflow: clip;
    line-height: 1.3; // Un peu d'espace entre les lignes si ça coupe
  }
}

// --- THÈMES DE COULEUR ---
// Applique la couleur sur la bordure haute et l'icône au survol

@mixin civ-theme($color) {
  border-top-color: $color;

  .card-icon-wrapper {
    color: $color; // Icône colorée par défaut
  }

  &:hover {
    border-color: $color; // Toute la bordure se colore au survol

    .card-icon-wrapper {
      background-color: rgba($color, 0.1); // Fond subtil au survol
    }
  }
}

.theme-red { @include civ-theme(#c0392b); }
.theme-blue { @include civ-theme(#2980b9); }
.theme-green { @include civ-theme(#27ae60); }
.theme-gold { @include civ-theme(#f1c40f); }
.theme-purple { @include civ-theme(#8e44ad); }
.theme-gray { @include civ-theme(#7f8c8d); }
.theme-orange { @include civ-theme(#e67e22); }
.theme-pink { @include civ-theme(#e84393); }
.theme-default { @include civ-theme(#16a085); }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

// Petit ajustement pour mobile
@media (max-width: 480px) {
  .civilization-grid {
    grid-template-columns: repeat(2, 1fr); // Force 2 colonnes sur très petits écrans
    gap: 0.8rem;
  }

  .civilization-card {
    padding: 1rem 0.5rem;
  }

  .civilization-icon {
    font-size: 2rem;
  }

  .card-icon-wrapper {
    width: 50px;
    height: 50px;
  }
}
