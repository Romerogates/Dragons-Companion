<!-- features/equipment/equipment-detail/equipment-detail.component.html -->
<div class="equipment-detail-page">
  <a routerLink="/equipment" class="back-link">â† Retour Ã  l'Ã©quipement</a>

  @if (loading) {
  <div class="loading">Chargement...</div>
  } @else if (equipment) {
  <div class="equipment-header">
    <span class="equipment-icon">{{ getTypeIcon() }}</span>
    <div class="equipment-title">
      <h1>{{ equipment.name }}</h1>
      <div class="equipment-meta">
        <span class="type-badge">{{ equipment.type }}</span>
        <span class="subtype-badge">{{ equipment.subtype }}</span>
      </div>
    </div>
  </div>

  <div class="stats-grid">
    <!-- Infos communes -->
    <div class="stat-card">
      <span class="stat-label">ğŸ’° Prix</span>
      <span class="stat-value gold">{{ formatCost() }}</span>
    </div>

    @if (equipment.weightKg > 0) {
    <div class="stat-card">
      <span class="stat-label">âš–ï¸ Poids</span>
      <span class="stat-value">{{ equipment.weightKg }} kg</span>
    </div>
    }

    <!-- Stats Arme -->
    @if (hasWeaponDamage()) {
    <div class="stat-card">
      <span class="stat-label">ğŸ² DÃ©gÃ¢ts</span>
      <span class="stat-value damage">{{ getWeaponData()!.damage_dice }}</span>
    </div>

    <div class="stat-card">
      <span class="stat-label">ğŸ’¥ Type</span>
      <span class="stat-value">{{ getWeaponData()!.damage_type }}</span>
    </div>
    }

    <!-- Stats Armure -->
    @if (hasArmorData()) {
    <div class="stat-card">
      <span class="stat-label">ğŸ›¡ï¸ Classe d'armure</span>
      <span class="stat-value ac">{{ getArmorClassDisplay() }}</span>
    </div>

    @if (getArmorData()!.str_requirement && getArmorData()!.str_requirement! > 0) {
    <div class="stat-card">
      <span class="stat-label">ğŸ’ª Force requise</span>
      <span class="stat-value">{{ getArmorData()!.str_requirement }}</span>
    </div>
    } @if (getArmorData()!.stealth_disadvantage) {
    <div class="stat-card warning">
      <span class="stat-label">ğŸ¤« DiscrÃ©tion</span>
      <span class="stat-value">DÃ©savantage</span>
    </div>
    } }

    <!-- Stats Monture -->
    @if (hasMountData()) {
    <div class="stat-card">
      <span class="stat-label">ğŸƒ Vitesse</span>
      <span class="stat-value speed">{{ getMountData()!.speed }}</span>
    </div>

    <div class="stat-card">
      <span class="stat-label">ğŸ“¦ CapacitÃ© de charge</span>
      <span class="stat-value">{{ getMountData()!.carry_capacity_kg }} kg</span>
    </div>
    }
  </div>

  <!-- PropriÃ©tÃ©s Arme -->
  @if (hasWeaponProperties()) {
  <section class="properties-section">
    <h2>ğŸ“‹ PropriÃ©tÃ©s</h2>
    <div class="properties-list">
      @for (prop of getWeaponData()!.properties; track prop) {
      <span class="property-tag">{{ prop }}</span>
      }
    </div>
  </section>
  }

  <!-- Description Gear -->
  @if (hasGearDescription()) {
  <section class="description-section">
    <h2>ğŸ“– Description</h2>
    <p>{{ getGearData()!.description }}</p>
  </section>
  }

  <!-- Description Tool -->
  @if (hasToolDescription()) {
  <section class="description-section">
    <h2>ğŸ“– Description</h2>
    <p>{{ getToolData()!.description }}</p>
  </section>
  }

  <!-- Description Mount -->
  @if (isMount() && getMountData()?.description) {
  <section class="description-section">
    <h2>ğŸ“– Description</h2>
    <p>{{ getMountData()!.description }}</p>
  </section>
  } } @else {
  <div class="not-found">Ã‰quipement non trouvÃ©</div>
  }
</div>
