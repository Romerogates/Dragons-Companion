<!-- features/character-creation/steps/skills-step/skills-step.component.html -->
<div class="skills-step">
  <h2>Choisissez vos compÃ©tences</h2>
  <p class="step-description">
    SÃ©lectionnez <strong>{{ creationService.character().skillChooseCount }}</strong> compÃ©tences
    parmi celles disponibles pour votre classe.
  </p>

  <div class="selection-counter" [class.complete]="!canSelectMore()">
    <span class="counter-label">SÃ©lectionnÃ©es</span>
    <span class="counter-value">
      {{ creationService.character().selectedSkills.length }} /
      {{ creationService.character().skillChooseCount }}
    </span>
    @if (!canSelectMore()) {
    <span class="counter-check">âœ“</span>
    }
  </div>

  <div class="cards-grid">
    @for (skill of getAvailableSkills(); track skill) {
    <app-selection-card
      [icon]="isSkillSelected(skill) ? 'âœ…' : 'ðŸŽ¯'"
      [title]="skill"
      [subtitle]="getSkillAbility(skill)"
      [selected]="isSkillSelected(skill)"
      [disabled]="!isSkillSelected(skill) && !canSelectMore()"
      (cardClick)="toggleSkill(skill)"
    />
    }
  </div>

  @if (creationService.character().selectedSkills.length > 0) {
  <div class="selection-summary">
    <h3>âœ… CompÃ©tences sÃ©lectionnÃ©es</h3>
    <div class="selected-skills">
      @for (skill of creationService.character().selectedSkills; track skill) {
      <span class="skill-tag">
        {{ skill }}
        <span class="skill-ability">({{ getSkillAbility(skill) }})</span>
        <button class="remove-btn" (click)="toggleSkill(skill)">âœ•</button>
      </span>
      }
    </div>
    <button class="clear-btn" (click)="clearSkills()">ðŸ”„ RÃ©initialiser</button>
  </div>
  }
</div>
