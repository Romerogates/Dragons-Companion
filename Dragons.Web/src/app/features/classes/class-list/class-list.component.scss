// features/compendium/classes/class-list/class-list.component.scss

.class-list-page {
  padding: 2rem 1rem;
  max-width: 1400px;
  margin: 0 auto;
  animation: fadeIn 0.3s ease-out;

  // Cacher la scrollbar
  scrollbar-width: none;
  -ms-overflow-style: none;
  &::-webkit-scrollbar { display: none; }
}

// --- HEADER ---
.page-header {
  text-align: center;
  margin-bottom: 3rem;

  h1 {
    font-size: 2.5rem;
    color: var(--primary-color);
    margin: 0 0 0.5rem 0;
    font-family: 'Cinzel', serif;
  }

  p {
    color: var(--text-muted);
    font-size: 1.1rem;
  }
}

.loading {
  text-align: center;
  padding: 4rem;
  color: var(--text-muted);
  font-size: 1.2rem;
  .spinner { margin-bottom: 1rem; }
}

// --- GRID (Smart Responsive) ---
.class-grid {
  display: grid;
  // S'adapte automatiquement : colonnes min de 260px
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 1.5rem;
  justify-content: center;
}

// --- CARD ---
.class-card {
  display: flex;
  align-items: center;
  gap: 1.2rem;
  padding: 1.2rem;

  background: var(--bg-cards);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  box-shadow: var(--shadow-sm);

  text-decoration: none;
  color: var(--text-main);
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  position: relative;
  overflow: hidden;

  // Bordure latérale colorée (par défaut)
  border-left: 5px solid var(--border-color);

  &:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-md);

    .class-icon {
      transform: scale(1.2);
    }
  }
}

.card-icon-wrapper {
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--section-alt-bg);
  border-radius: 12px;
  flex-shrink: 0;
  transition: background-color 0.3s;
}

.class-icon {
  font-size: 2.2rem;
  line-height: 1;
  transition: transform 0.3s ease;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
}

.class-info {
  flex: 1;
  overflow: hidden; // Pour gérer les noms longs

  h2 {
    margin: 0 0 0.5rem 0;
    font-size: 1.1rem;
    font-weight: 700;
    font-family: 'Cinzel', serif;
    color: var(--text-main);
    text-transform: uppercase;

    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}

// --- STATS BADGES ---
.class-stats {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.stat {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  padding: 0.25rem 0.6rem;
  border-radius: 6px;
  font-size: 0.8rem;
  font-weight: 600;

  .die-icon { font-size: 0.9rem; }
}

// Couleurs des dés de vie
.hit-die {
  &.high { background: rgba(39, 174, 96, 0.1); color: #27ae60; }     // d12
  &.medium { background: rgba(243, 156, 18, 0.1); color: #d35400; }  // d10
  &.low { background: rgba(127, 140, 141, 0.1); color: #7f8c8d; }    // d8
  &.very-low { background: rgba(192, 57, 43, 0.1); color: #c0392b; } // d6
}

// Type de classe
.spellcaster {
  background: rgba(155, 89, 182, 0.1);
  color: #8e44ad;
}

.martial {
  background: rgba(44, 62, 80, 0.1);
  color: #34495e;
}

// --- THÈMES DE COULEUR ---
// Applique la couleur sur la bordure gauche et l'icône au survol

@mixin class-theme($color) {
  border-left-color: $color;

  .card-icon-wrapper {
    color: $color;
  }

  &:hover {
    border-color: $color; // Toute la bordure se colore au survol
    border-left-color: $color; // On garde la barre gauche visible

    .card-icon-wrapper {
      background-color: rgba($color, 0.1);
    }
  }
}

.theme-red { @include class-theme(#c0392b); }
.theme-blue { @include class-theme(#2980b9); }
.theme-green { @include class-theme(#27ae60); }
.theme-gold { @include class-theme(#f1c40f); }
.theme-purple { @include class-theme(#8e44ad); }
.theme-gray { @include class-theme(#7f8c8d); }
.theme-cyan { @include class-theme(#00cec9); }
.theme-pink { @include class-theme(#e84393); }
.theme-default { @include class-theme(#bdc3c7); }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

// Ajustement mobile
@media (max-width: 480px) {
  .class-grid {
    grid-template-columns: 1fr; // 1 colonne sur mobile
  }

  .class-card {
    padding: 1rem;
  }
}
